# -*- coding: UTF-8 -*-

# 入力
N = int(input())
s = [input() for _ in range(5)]
# 答え
ans = ''
num = [
        ['###', '#.#', '#.#', '#.#', '###'], # 0
        ['.#.', '##.', '.#.', '.#.', '###'], # 1
        ['###', '..#', '###', '#..', '###'], # 2
        ['###', '..#', '###', '..#', '###'], # 3
        ['#.#', '#.#', '###', '..#', '..#'], # 4
        ['###', '#..', '###', '..#', '###'], # 5
        ['###', '#..', '###', '#.#', '###'], # 6
        ['###', '..#', '..#', '..#', '..#'], # 7
        ['###', '#.#', '###', '#.#', '###'], # 8
        ['###', '#.#', '###', '..#', '###']  # 9
      ]
# 4列ずつ切り出す
for i in range(1, 4*N+1, 4):
    # 0 ~ 9 までチェック
    for j in range(10):
        flg = True
        # 5行
        for k in range(5):
            if not s[k][i:i+3] == num[j][k]:
                flg = False
                break
        # 一致するなら
        if flg:
            ans += str(j)
# 出力
print(ans)